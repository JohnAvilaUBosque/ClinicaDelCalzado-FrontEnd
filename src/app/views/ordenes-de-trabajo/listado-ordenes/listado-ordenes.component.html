<c-card>
    <c-card-header>
        <h5>Listado órdenes de trabajo</h5>
    </c-card-header>
    <c-card-body>
        <p>Órdenes de trabajo de la más reciente a la más antigua.</p>
        <div class="overflow-y-auto">
            <table cTable hover striped>
                <thead>
                    <tr>
                        <th scope="col"></th>
                        <th scope="col">Estado orden</th>
                        <th scope="col">Número</th>
                        <th scope="col">Atendido por</th>
                        <th scope="col">Fecha creación</th>
                        <th scope="col">Identificación cliente</th>
                        <th scope="col">Nombre cliente</th>
                        <th scope="col">Celular cliente</th>
                        <th scope="col">Cantidad servicios</th>
                        <th scope="col">Fecha entrega</th>
                        <th scope="col">Precio total</th>
                        <th scope="col">Abonado</th>
                        <th scope="col">Saldo</th>
                        <th scope="col">Estado pago</th>
                    </tr>
                </thead>
                <tbody>
                    @for (orden of ordenes; track orden.numeroOrden) {
                    <tr>
                        <td>
                            <button cButton color="primary" variant="ghost" size="sm" shape="rounded-pill"
                                cTooltip="Ver orden" (click)="verOrden(orden)">
                                <svg cIcon name="cil-external-link"></svg>
                            </button>
                        </td>
                        <td>
                            <c-badge
                                color="{{orden.estadoOrden == constService.ESTADO_ORDEN.VIGENTE ? 'info' : orden.estadoOrden == constService.ESTADO_ORDEN.ANULADA ? 'danger' : 'success' }}"
                                shape="rounded-pill">
                                {{orden.estadoOrden | uppercase}}
                            </c-badge>
                        </td>
                        <th scope="row">{{orden.numeroOrden}}</th>
                        <td>{{orden.atendidoPor}}</td>
                        <td>{{orden.fechaCreacion | date:constService.FORMATS_VIEW.DATETIME }}</td>
                        <td>{{orden.cliente.identificacion}}</td>
                        <td>{{orden.cliente.nombre}}</td>
                        <td>{{orden.cliente.celular}}</td>
                        <td>{{orden.cantidadServicios}}</td>
                        <td>{{orden.fechaEntrega | date:constService.FORMATS_VIEW.DATE}}</td>
                        <td>{{orden.precioTotal | currency: 'COP' : 'symbol-narrow' : '1.0'}}</td>
                        <td>{{orden.abono | currency: 'COP' : 'symbol-narrow' : '1.0'}}</td>
                        <td>{{orden.saldo | currency: 'COP' : 'symbol-narrow' : '1.0'}}</td>
                        <td>
                            <c-badge
                                color="{{orden.estadoPago == constService.ESTADO_PAGO.PENDIENTE ? 'warning' : 'success'}}"
                                shape="rounded-pill">
                                {{orden.estadoPago | uppercase}}
                            </c-badge>
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
    </c-card-body>
</c-card>