<c-card>
    <c-card-header>
        <h5>Listado ordenes de trabajo</h5>
    </c-card-header>
    <c-card-body>
        <p>Ordenes de trabajo de la más reciente a la más antigua.</p>
        <div class="overflow-y-auto">
            <table cTable hover striped>
                <thead>
                    <tr>
                        <th scope="col">Ver órden</th>
                        <th scope="col">Estado</th>
                        <th scope="col">Número</th>
                        <th scope="col">Atendido por</th>
                        <th scope="col">Fecha creación</th>
                        <th scope="col">Identificación cliente</th>
                        <th scope="col">Nombre cliente</th>
                        <th scope="col">Celular cliente</th>
                        <th scope="col">Cantidad servicios</th>
                        <th scope="col">Fecha entrega</th>
                        <th scope="col">Valor total</th>
                        <th scope="col">Abonado</th>
                        <th scope="col">Saldo</th>
                        <th scope="col">Estado pago</th>
                    </tr>
                </thead>
                <tbody>
                    @for (orden of ordenes; track orden.orderNumber) {
                    <tr>
                        <td scope="row">
                            <button cButton color="primary" variant="ghost" size="sm" shape="rounded-pill"
                                (click)="verOrden(orden)">
                                <svg cIcon name="cil-external-link"></svg>
                            </button>
                        </td>
                        <td>
                            <c-badge color="{{orden.orderStatus == 'Vigente' ? 'info' : 'danger'}}"
                                shape="rounded-pill">{{orden.orderStatus | uppercase}}</c-badge>
                        </td>
                        <th scope="row">{{orden.orderNumber}}</th>
                        <td>{{orden.attendedBy}}</td>
                        <td>{{orden.date | date:constantsService.FORMATS_VIEW.DATETIME }}</td>
                        <td>{{orden.identification}}</td>
                        <td>{{orden.name}}</td>
                        <td>{{orden.phone}}</td>
                        <td>{{orden.productCount}}</td>
                        <td>{{orden.deadline | date:constantsService.FORMATS_VIEW.DATE}}</td>
                        <td>{{orden.totalValue | currency: 'COP' : 'symbol-narrow' : '1.0'}}</td>
                        <td>{{orden.payment | currency: 'COP' : 'symbol-narrow' : '1.0'}}</td>
                        <td>{{orden.balance | currency: 'COP' : 'symbol-narrow' : '1.0'}}</td>
                        <td>
                            <c-badge color="{{orden.paymentStatus == 'Pendiente' ? 'warning' : 'success'}}"
                                shape="rounded-pill">{{orden.paymentStatus | uppercase}}
                            </c-badge>
                        </td>
                    </tr>
                    }
                </tbody>
            </table>
        </div>
    </c-card-body>
</c-card>